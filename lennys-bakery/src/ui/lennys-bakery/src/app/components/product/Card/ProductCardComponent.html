<div class="product-image rounded-md object-cover max-w-[280px] bg-[var(--color-card-background)]">
    <a routerLink="/inventory/item/{{product.slug}}">
        <app-product-image [product]="product" [rounded]="true"/>
    </a>
</div>

<div
    class="product-card rounded-lg shadow-lg max-w-[280px] bg-[var(--color-card-background)] p-4 text-center text-white">

    <h2 class="text-lg font-bold text-white mt-0 underline">
        <a class="hover:text-[var(--color-secondary)]" routerLink="/inventory/item/{{product.slug}}"
           title="Visit product page">{{ product.name }}</a>
    </h2>
    <p class="truncate mb-4 text-[var(--color-secondary)]">
        <a routerLink="/inventory/item/{{product.slug}}">
            {{ product.description }}
        </a>
    </p>

    <div class="mt-4 flex justify-between align-bottom">
        <div class="text-left">
            <div class="product-price text-green-500 font-bold">
                ${{ product.price.toFixed(2) }}
            </div>
            <div>
                <a class="text-white hover:text-[var(--color-secondary)]"
                   routerLink="/inventory/item/{{product.slug}}"
                   title="View reviews">
                    <fa-icon [icon]="faComments"></fa-icon>
                    {{ product.numReviews }} Reviews
                </a>
            </div>
        </div>

        <p-button
            (onClick)="addToCart(product)"
            [badge]="getCartQuantity(product.id)"
            [disabled]="isLoading"
            class="product-button"
            label="Add"
            size="small"
            styleClass="bg-[var(--color-secondary)] mt-4"
        >
            @if (product.rapidShipAvailable) {
                <fa-icon [icon]="faBoltLightning"></fa-icon>
            } @else {
                <fa-icon [icon]="faCartPlus"></fa-icon>
            }
        </p-button>
    </div>
</div>
